<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular.min.js"></script>
	<script type="text/javascript" src="./main.js"></script>
	<script type="text/javascript">
		const currencyList = ['USD', //доллар
						      'EUR', //евро
						      'RUB', //рубль
						      'GBP', //фунт
						  	  'CNY'  //китайская йена
						  	  ]

		var bucket = [
			{price: 20},
			{price: 45},
			{price: 67},
			{price: 1305}
		]		

		let currency = 'USD'

		let newCerryency = 'RUB'

		convertCurrency(currency, newCerryency).then((resp)=>{
			let key = currency + '_' + newCerryency
			currency = 'EUR'
			let change_coef = JSON.parse(resp)[key].val

			bucket.forEach((a)=>{
				a.price = (a.price * change_coef).toFixed(2)
			})

			console.log(bucket)
		}).catch((resp)=>{
			console.log(resp)
		})
	</script>
	<script type="text/javascript">
		
	</script>
</body>
</html>