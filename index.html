<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular.min.js"></script>
	<script type="text/javascript" src="./main.js"></script>
	<script type="text/javascript">
		const currencyList = ['EUR', //евро
						      'RUB', //рубль
						      'GBP', //фунт
						  	  'CNY'  //китайская йена
						  	  ]

		var bucket = [
			{price: 20},
			{price: 45},
			{price: 67},
			{price: 1305}
		]	

		var currency = 'USD'	

		var total = bucket.reduce(function(accum, item){return accum+item.price}, 0)

		var result = {}
		result[currency] = total.toFixed(2)

		currencyList.forEach((newCerryency)=>{
			getCurrencyCoef(currency, newCerryency).then((coef)=>{
			
				result[newCerryency] = (total * coef).toFixed(2)

			}).catch((resp)=>{
				console.log(resp)
			})
		})

	</script>
</body>
</html>